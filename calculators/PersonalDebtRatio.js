KJE.parameters.set("ADDITIONAL_FIELDS",true);KJE.parameters.set("MSG_YOUR_ADDITIONAL1","Other debt payments");KJE.parameters.set("MSG_YOUR_INCOME","Gross amount paid");KJE.HomeBudgetCalc=function(){this.MSG_GRAPH_REPORT_TITLE=KJE.parameters.get("MSG_GRAPH_REPORT_TITLE","Monthly Budget Expenses");this.MSG_YOUR_DEBT_PAYMENTS=KJE.parameters.get("MSG_YOUR_DEBT_PAYMENTS","Mortgage and debt");this.MSG_TOTAL_AVAILABLE_FOR_SAVINGS=KJE.parameters.get("MSG_YOUR_DEBT_PAYMENTS","Remaining income");this.PERCENT_ADDITIONAL=KJE.FloatArray(1);this.YOUR_ADDITIONAL=KJE.FloatArray(1);this.MSG_YOUR_ADDITIONAL=new Array(1);this.MSG_YOUR_ADDITIONAL[0]=KJE.parameters.get("MSG_YOUR_ADDITIONAL1","Additional debt payment");this.SPOUSE_NET_CHECK=0;this.NET_CHECK=0;this.YOUR_DEBT_PAYMENTS=0;this.YOUR_INCOME=0;this.INCOME_PAID=0;this.INCOME_PAID_TEXT="";this.OTHER_INCOME=0;this.OTHER_INCOME_PAID=0;this.OTHER_INCOME_PAID_TEXT="";this.SPOUSE_INCOME=0;this.SPOUSE_PAID=0;this.SPOUSE_PAID_TEXT="";this.SPOUSE_OTHER_INCOME_PAID=0;this.SPOUSE_OTHER_INCOME=0;this.SPOUSE_OTHER_INCOME_PAID_TEXT="";this.YOUR_HOUSE_PAYMENT=0;this.YOUR_AUTO_PAYMENT=0;this.YOUR_AUTO_PAYMENT_2=0;this.YOUR_CREDIT_CARD_PAYMENTS=0;this.DS_SPENDING=KJE.FloatArray(2);this.cats=new Array(2)};KJE.HomeBudgetCalc.prototype.clear=function(){};KJE.HomeBudgetCalc.prototype.calculate=function(a){var e=KJE;var b=this.YOUR_HOUSE_PAYMENT;var f=this.YOUR_AUTO_PAYMENT;var d=this.YOUR_AUTO_PAYMENT_2;var c=this.YOUR_CREDIT_CARD_PAYMENTS;this.NET_INCOME=KJE.HomeBudgetCalc.convertToMonthly(this.INCOME_PAID,this.YOUR_INCOME)+KJE.HomeBudgetCalc.convertToMonthly(this.OTHER_INCOME_PAID,this.OTHER_INCOME);this.SPOUSE_NET_INCOME=KJE.HomeBudgetCalc.convertToMonthly(this.SPOUSE_PAID,this.SPOUSE_INCOME)+KJE.HomeBudgetCalc.convertToMonthly(this.SPOUSE_OTHER_INCOME_PAID,this.SPOUSE_OTHER_INCOME);this.TOTAL_MONTHLY_INCOME=this.SPOUSE_NET_INCOME+this.NET_INCOME;this.YEARLY_GROSS_INCOME=this.TOTAL_MONTHLY_INCOME*12;this.DEBT_TOTAL_PAYMENTS=(b+f+d+this.YOUR_ADDITIONAL[0]+c);if(this.DEBT_TOTAL_PAYMENTS==0){this.DEBT_RATIO=0}else{if(this.TOTAL_MONTHLY_INCOME<=0){this.DEBT_RATIO=1}else{this.DEBT_RATIO=this.DEBT_TOTAL_PAYMENTS/this.TOTAL_MONTHLY_INCOME}}this.TOTAL_AVAILABLE_FOR_SAVINGS=this.TOTAL_MONTHLY_INCOME-this.DEBT_TOTAL_PAYMENTS;this.YOUR_DEBT_PAYMENTS=b+f+d+c+this.YOUR_ADDITIONAL[0];this.DS_SPENDING[0]=this.YOUR_DEBT_PAYMENTS;this.DS_SPENDING[1]=(this.TOTAL_AVAILABLE_FOR_SAVINGS<0?0:this.TOTAL_AVAILABLE_FOR_SAVINGS);this.cats[0]=e.dollars(this.YOUR_DEBT_PAYMENTS,0)+" "+this.MSG_YOUR_DEBT_PAYMENTS;this.cats[1]=e.dollars(this.TOTAL_AVAILABLE_FOR_SAVINGS,0)+" "+this.MSG_TOTAL_AVAILABLE_FOR_SAVINGS};KJE.HomeBudgetCalc.prototype.formatReport=function(c){var d=KJE;var a=this.iDecimal;var e=c;e=KJE.replace("TABLE_TOTAL_COLS","6",e);e=KJE.replace("SPOUSE_NET_CHECK",d.dollars(this.SPOUSE_NET_CHECK,2),e);e=KJE.replace("SPOUSE_INCOME",d.dollars(this.SPOUSE_INCOME,2),e);e=KJE.replace("YOUR_INCOME",d.dollars(this.YOUR_INCOME,2),e);e=KJE.replace("SPOUSE_OTHER_INCOME_PAID_TEXT",this.SPOUSE_OTHER_INCOME_PAID_TEXT,e);e=KJE.replace("OTHER_INCOME_PAID_TEXT",this.OTHER_INCOME_PAID_TEXT,e);e=KJE.replace("TOTAL_MONTHLY_INCOME",d.dollars(this.TOTAL_MONTHLY_INCOME,2),e);e=KJE.replace("NET_CHECK",d.dollars(this.NET_CHECK,2),e);e=KJE.replace("YOUR_HOUSE_PAYMENT",d.dollars(this.YOUR_HOUSE_PAYMENT,2),e);e=KJE.replace("YOUR_AUTO_PAYMENT_2",d.dollars(this.YOUR_AUTO_PAYMENT_2,2),e);e=KJE.replace("YOUR_AUTO_PAYMENT",d.dollars(this.YOUR_AUTO_PAYMENT,2),e);e=KJE.replace("YOUR_CREDIT_CARD_PAYMENTS",d.dollars(this.YOUR_CREDIT_CARD_PAYMENTS,2),e);e=KJE.replace("DEBT_RATIO",d.percent(this.DEBT_RATIO,2),e);e=KJE.replace("SPOUSE_NET_INCOME",d.dollars(this.SPOUSE_NET_INCOME,2),e);e=KJE.replace("NET_INCOME",d.dollars(this.NET_INCOME,2),e);e=KJE.replace("INCOME_PAID_TEXT",this.INCOME_PAID_TEXT,e);e=KJE.replace("SPOUSE_PAID_TEXT",this.SPOUSE_PAID_TEXT,e);e=KJE.replace("SPOUSE_OTHER_INCOME",d.dollars(this.SPOUSE_OTHER_INCOME,2),e);e=KJE.replace("SPOUSE_OTHER_INCOME",d.dollars(this.SPOUSE_OTHER_INCOME,2),e);e=KJE.replace("OTHER_INCOME",d.dollars(this.OTHER_INCOME,2),e);e=KJE.replace("YOUR_DEBT_PAYMENTS",d.dollars(this.YOUR_DEBT_PAYMENTS,2),e);for(var b=0;b<this.YOUR_ADDITIONAL.length;b++){e=KJE.replace("MSG_YOUR_ADDITIONAL"+(b+1),this.MSG_YOUR_ADDITIONAL[b],e);e=KJE.replace("YOUR_ADDITIONAL"+(b+1),d.dollars(this.YOUR_ADDITIONAL[b],2),e)}return e};KJE.Default.PAY_ANNUAL=1;KJE.Default.PAY_SEMIANNUAL=2;KJE.Default.PAY_QUARTERLY=4;KJE.Default.PAY_MONTHLY=12;KJE.Default.PAY_SEMIMONTHLY=24;KJE.Default.PAY_BIWEEKLY=26;KJE.Default.PAY_WEEKLY=52;KJE.Default.PAY_HOURLY=2080;KJE.Default.PAY_SELECTIONS=["Annual","Semi-Annual","Quarterly","Monthly","Semi-Monthly","Bi-Weekly","Weekly","Hourly"];KJE.Default.PAY_INDEX=[KJE.Default.PAY_ANNUAL,KJE.Default.PAY_SEMIANNUAL,KJE.Default.PAY_QUARTERLY,KJE.Default.PAY_MONTHLY,KJE.Default.PAY_SEMIMONTHLY,KJE.Default.PAY_BIWEEKLY,KJE.Default.PAY_WEEKLY,KJE.Default.PAY_HOURLY];KJE.getDropBoxPaymentFreq=function(a,c,b){return KJE.replace("**"+a+"**",KJE.getDropBox(a,KJE.parameters.get(a,c),KJE.Default.PAY_INDEX,KJE.Default.PAY_SELECTIONS),b)};KJE.HomeBudgetCalc.convertToMonthly=function(b,a){var c=0;if(b==(KJE.Default.PAY_SEMIANNUAL)){c+=a/6}else{if(b==(KJE.Default.PAY_WEEKLY)){c+=(a*52)/12}else{if(b==(KJE.Default.PAY_HOURLY)){c+=(a*2080)/12}else{if(b==(KJE.Default.PAY_BIWEEKLY)){c+=(a*26)/12}else{if(b==(KJE.Default.PAY_SEMIMONTHLY)){c+=a*2}else{if(b==(KJE.Default.PAY_QUARTERLY)){c+=a/3}else{if(b==(KJE.Default.PAY_ANNUAL)){c+=a/12}else{c+=a}}}}}}}return c};KJE.CalcName="Debt-to-Income Ratio";KJE.CalcType="PersonalDebtRatio";KJE.CalculatorTitleTemplate="Your debt-to-income ratio is KJE1";KJE.parseInputs=function(a){a=KJE.getDropBoxPaymentFreq("YOUR_INCOME_UNITS",KJE.Default.PAY_MONTHLY,a);a=KJE.getDropBoxPaymentFreq("OTHER_INCOME_UNITS",KJE.Default.PAY_MONTHLY,a);a=KJE.getDropBoxPaymentFreq("SPOUSE_INCOME_UNITS",KJE.Default.PAY_MONTHLY,a);a=KJE.getDropBoxPaymentFreq("SPOUSE_OTHER_INCOME_UNITS",KJE.Default.PAY_MONTHLY,a);return a};KJE.initialize=function(){KJE.CalcControl=new KJE.HomeBudgetCalc();KJE.GuiControl=new KJE.HomeBudget(KJE.CalcControl)};KJE.HomeBudget=function(j){var e=KJE;var b=KJE.gLegend;KJE.DollarSlider("YOUR_INCOME","Gross amount paid",0,10000000,0,0,3);KJE.DropBox("YOUR_INCOME_UNITS","Frequency");KJE.DollarSlider("OTHER_INCOME","Other income",0,10000000,0,0,3);KJE.DropBox("OTHER_INCOME_UNITS","Frequency");KJE.DollarSlider("SPOUSE_INCOME","Gross amount paid",0,10000000,0,0,3);KJE.DropBox("SPOUSE_INCOME_UNITS","Frequency");KJE.DollarSlider("SPOUSE_OTHER_INCOME","Other income",0,10000000,0,0,3);KJE.DropBox("SPOUSE_OTHER_INCOME_UNITS","Frequency");KJE.DollarSlider("YOUR_HOUSE_PAYMENT","House payment",0,10000000,0,0,0);KJE.DollarSlider("YOUR_AUTO_PAYMENT","Auto payment",0,10000000,0,0,0);KJE.DollarSlider("YOUR_AUTO_PAYMENT_2","Auto two payment",0,10000000,0,0,6);KJE.DollarSlider("YOUR_CREDIT_CARD_PAYMENTS","Credit card payments",0,10000000,0,0,6);KJE.DollarSlider("YOUR_ADDITIONAL1",j.MSG_YOUR_ADDITIONAL[0],0,10000000,0,0,6);for(var h=0;h<j.MSG_YOUR_ADDITIONAL.length;h++){j.MSG_YOUR_ADDITIONAL[h]=KJE.parameters.get("MSG_YOUR_ADDITIONAL"+(h+1),j.MSG_YOUR_ADDITIONAL[h])}var f=KJE.gNewGraph(KJE.gCATEGORIES,"GRAPH1",true,false,KJE.colorList[1],KJE.parameters.get("MSG_GRAPH_TITLE1","Monthly debt payments of KJE1 leave you with KJE2"));f._legend._iOrientation=(b.TOP_RIGHT);f._showItemLabel=true;f._showItemLabelOnTop=true;f._axisX.setVisible(false);if(KJE.DivDefined("INPUTS_DIV")){KJE.addDiv("INPUTS_DIV",KJE.colorList[0])}if(KJE.DropperDefined("INPUTS")){var a=KJE.parameters.get("MSG_DROPPER_TITLE","Your monthly income");var d=function(){return a+"|"+KJE.subText(e.dollars(j.NET_INCOME),"KJERightBold")};KJE.addDropper(new KJE.Dropper("INPUTS",true,d,d),KJE.colorList[0])}if(KJE.DropperDefined("SPOUSE")){var k=KJE.parameters.get("MSG_SPOUSE_TITLE","Spouse's monthly income");var c=function(){return k+"|"+KJE.subText(e.dollars(j.SPOUSE_NET_INCOME),"KJERightBold")};KJE.addDropper(new KJE.Dropper("SPOUSE",false,c,c),KJE.colorList[0])}if(KJE.DropperDefined("DEBT_PAYMENTS")){var g=function(){return j.MSG_YOUR_DEBT_PAYMENTS+"|"+KJE.subText(e.dollars(j.YOUR_DEBT_PAYMENTS),"KJERightBold")};KJE.addDropper(new KJE.Dropper("DEBT_PAYMENTS",true,g,g),KJE.colorList[0])}};KJE.HomeBudget.prototype.setValues=function(b){var a=KJE.inputs.items;b.YOUR_INCOME=a.YOUR_INCOME.getValue();b.INCOME_PAID=a.YOUR_INCOME_UNITS.getValue();b.INCOME_PAID_TEXT=a.YOUR_INCOME_UNITS.getFormatted();b.OTHER_INCOME=a.OTHER_INCOME.getValue();b.OTHER_INCOME_PAID=a.OTHER_INCOME_UNITS.getValue();b.OTHER_INCOME_PAID_TEXT=a.OTHER_INCOME_UNITS.getFormatted();b.SPOUSE_INCOME=a.SPOUSE_INCOME.getValue();b.SPOUSE_PAID=a.SPOUSE_INCOME_UNITS.getValue();b.SPOUSE_PAID_TEXT=a.SPOUSE_INCOME_UNITS.getFormatted();b.SPOUSE_OTHER_INCOME=a.SPOUSE_OTHER_INCOME.getValue();b.SPOUSE_OTHER_INCOME_PAID=a.SPOUSE_OTHER_INCOME_UNITS.getValue();b.SPOUSE_OTHER_INCOME_PAID_TEXT=a.SPOUSE_OTHER_INCOME_UNITS.getFormatted();b.YOUR_HOUSE_PAYMENT=a.YOUR_HOUSE_PAYMENT.getValue();b.YOUR_AUTO_PAYMENT=a.YOUR_AUTO_PAYMENT.getValue();b.YOUR_AUTO_PAYMENT_2=a.YOUR_AUTO_PAYMENT_2.getValue();b.YOUR_CREDIT_CARD_PAYMENTS=a.YOUR_CREDIT_CARD_PAYMENTS.getValue();b.YOUR_ADDITIONAL[0]=a.YOUR_ADDITIONAL1.getValue()};KJE.HomeBudget.prototype.refresh=function(c){var b=KJE;var a=KJE.gGraphs[0];KJE.setTitleTemplate(b.percent(c.DEBT_RATIO,2));a.removeAll();a.setGraphCategories(c.cats);a.add(new KJE.gGraphDataSeries(c.DS_SPENDING,"Test",a.getColor(1)));a.setTitleTemplate(b.dollars(c.YOUR_DEBT_PAYMENTS),b.dollars(c.TOTAL_AVAILABLE_FOR_SAVINGS));a.paint()};KJE.InputScreenText=" <div id=KJE-D-INPUTS><div id=KJE-P-INPUTS>Input information:</div></div> <div id=KJE-E-INPUTS > <div id='KJE-C-YOUR_INCOME'><input id='KJE-YOUR_INCOME' /></div> <div id='KJE-C-YOUR_INCOME_UNITS'>**YOUR_INCOME_UNITS**</div> <div id='KJE-C-OTHER_INCOME'><input id='KJE-OTHER_INCOME' /></div> <div id='KJE-C-OTHER_INCOME_UNITS'>**OTHER_INCOME_UNITS**</div> <div style=\"height:10px\"></div> </div> <div id=KJE-D-SPOUSE><div id=KJE-P-SPOUSE>Input information:</div></div> <div id=KJE-E-SPOUSE > <div id='KJE-C-SPOUSE_INCOME'><input id='KJE-SPOUSE_INCOME' /></div> <div id='KJE-C-SPOUSE_INCOME_UNITS'>**SPOUSE_INCOME_UNITS**</div> <div id='KJE-C-SPOUSE_OTHER_INCOME'><input id='KJE-SPOUSE_OTHER_INCOME' /></div> <div id='KJE-C-SPOUSE_OTHER_INCOME_UNITS'>**SPOUSE_OTHER_INCOME_UNITS**</div> <div style=\"height:10px\"></div> </div> <div id=KJE-D-DEBT_PAYMENTS><div id=KJE-P-DEBT_PAYMENTS>Debt:</div></div> <div id=KJE-E-DEBT_PAYMENTS > <div id='KJE-C-YOUR_HOUSE_PAYMENT'><input id='KJE-YOUR_HOUSE_PAYMENT' /></div> <div id='KJE-C-YOUR_AUTO_PAYMENT'><input id='KJE-YOUR_AUTO_PAYMENT' /></div> <div id='KJE-C-YOUR_AUTO_PAYMENT_2'><input id='KJE-YOUR_AUTO_PAYMENT_2' /></div> <div id='KJE-C-YOUR_CREDIT_CARD_PAYMENTS'><input id='KJE-YOUR_CREDIT_CARD_PAYMENTS' /></div> <div id='KJE-C-YOUR_ADDITIONAL1'><input id='KJE-YOUR_ADDITIONAL1' /></div> <div style=\"height:10px\"></div> </div> **GRAPH1** ";KJE.DefinitionText=" <div id='KJE-D-YOUR_INCOME' ><dt>Your income</dt><dd>Your total <!--STARTHIDETAXES-->gross<!--ENDHIDETAXES--> income from your paycheck.</dd></div> <div id='KJE-D-OTHER_INCOME' ><dt>Other income</dt><dd>Any other regular income you receive, such as rental payments or investment income.</dd></div> <div id='KJE-D-YOUR_HOUSE_PAYMENT' ><dt>House payment</dt><dd>Monthly payment for your home or apartment. For a home payment, include principal, interest, property taxes and insurance (PITI).</dd></div> <div id='KJE-D-YOUR_AUTO_PAYMENT' ><dt>Auto payment</dt><dd>Your monthly auto loan payment. This should be for your auto loan only, auto insurance should not be included.</dd></div> <div id='KJE-D-YOUR_AUTO_PAYMENT_2' ><dt>Auto two payment</dt><dd>Any additional auto, truck or RV payments should be entered here.</dd></div> <div id='KJE-D-YOUR_CREDIT_CARD_PAYMENTS' ><dt>Credit card payments</dt><dd>Enter the total of all of your credit card payments. For this calculation, please enter the minimum payment amounts, even if you pay off a larger portion of your balance each month.</dd></div> ";KJE.ReportText=' <h2 class=\'KJEReportHeader KJEFontHeading\'>Your debt-to-income ratio is DEBT_RATIO</h2>This is based on a total monthly income of TOTAL_MONTHLY_INCOME with YOUR_DEBT_PAYMENTS in monthly debt payments. <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Your monthly income is TOTAL_MONTHLY_INCOME</caption> <thead class=\'KJEReportTHeader\'> <tr class=KJEHeaderRow><th class="KJEHeading KJECell40">&nbsp;</th><th class="KJEHeading KJECell30" scope=\'col\'>You</th><th class="KJEHeading KJECell30" scope=\'col\'>Your Spouse</th></tr> </thead> <tfoot class=\'KJEReportTFooter\'> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder" scope=\'row\'>Total income from all sources</th><td class="KJECellStrong KJECellBorder">TOTAL_MONTHLY_INCOME monthly</td><td class="KJECell">&nbsp;</td></tr> </tfoot> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Gross amount paid</th><td class="KJECell KJECellBorder">YOUR_INCOME INCOME_PAID_TEXT</td><td class="KJECell">SPOUSE_INCOME SPOUSE_PAID_TEXT</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Other income</th><td class="KJECell KJECellBorder">OTHER_INCOME OTHER_INCOME_PAID_TEXT</td><td class="KJECell">SPOUSE_OTHER_INCOME SPOUSE_OTHER_INCOME_PAID_TEXT</td></tr> </tbody> </table> </div> **GRAPH** <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Your monthly debt paymets are YOUR_DEBT_PAYMENTS</caption> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>House payment</th><td class="KJECell">YOUR_HOUSE_PAYMENT</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder"scope=\'row\'>Auto payment</th><td class="KJECell">YOUR_AUTO_PAYMENT</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Auto two payment</th><td class="KJECell">YOUR_AUTO_PAYMENT_2</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Credit card payments</th><td class="KJECell">YOUR_CREDIT_CARD_PAYMENTS</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>MSG_YOUR_ADDITIONAL1</th><td class="KJECell">YOUR_ADDITIONAL1</td></tr> </tbody> </table> </div> ';